
<!DOCTYPE html>
<html>
<head>	
 	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
 	<link href="/constellarium/code/constellariumstyle.css" rel="stylesheet" type="text/css" media="all">
	<script src="/constellarium/code/constellariumtrans.js"></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script>
	var titleText = null;
	var body1Text = null;
	var body2Text = null;
function OnClick() {
	var area = "testingtext";	
	var outcome = 0;
	FetchText();
	console.log("finishes click()");
}
async function FetchText() {
	try {
		const jsonResponse = await fetch(`https://genseot.github.io/constellarium/code/constellariumtext.json`,{method: `GET`,},);
    		if (!jsonResponse.ok) {
      			throw new Error(`Error! status: ${jsonResponse.status}`);
    		}
		const constellariumText = await jsonResponse.json();
		return constellariumText;
		console.log("returns constellariumText");
  	}
	catch (error) {console.log(error);}
	GetText();
}
function GetText() {
	titleText = JSON.stringify(constellariumText[area][outcome]["text"][0]);
	body1Text = JSON.stringify(constellariumText[area][outcome]["text"][1]);
	body2Text = JSON.stringify(constellariumText[area][outcome]["text"][2]);
	ExciseQuotes();
}
function ExciseQuotes() {
	titleText = titleText.slice(1, -1);
	body1Text = body1Text.slice(1, -1);
	body2Text = body2Text.slice(1, -1);
	LoadText();
}
function LoadText() {
	setTimeout(function() {
		$("#title").append(titleText);
		$("#body1").append(body1Text);
		$("#body2").append(body2Text);
		area = null;
		outcome = 0;
	}, 350);
}
	</script>
</head>
<body>
<div id="storylet" class="storyletbig">
<br>
		<div class="storylettitle">
			<h2 id="title"></h2>
			<p id="body1"></p>
			<p id="body2"></p>
		</div>
		<br>
		<div class="action">
			<p style="text-align:right"><actionbutton onclick="OnClick()">Press to Hopefully Load Text</actionbutton></p>
		</div>
<br>
</div>
</body>
</html>
